for platform_dir in sorted(opkg_dir.glob("*")):
    for plugin_dir in sorted(platform_dir.glob("*")):
        for version_dir in sorted(plugin_dir.glob("*")):
            # 用 opkg_dir 做基准路径
            try:
                rel_path = version_dir.relative_to(opkg_dir)
            except ValueError:
                rel_path = version_dir.name  # 退化处理

            html.append(f"<li><a href='{rel_path}/'>{platform_dir.name}/{plugin_dir.name}/{version_dir.name}</a></li>")
